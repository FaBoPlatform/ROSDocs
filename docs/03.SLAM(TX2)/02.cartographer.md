# TX2にCartographerを構築


## パッケージ
```
sudo apt-get install -y python-wstool python-rosdep ninja-build
```

## Cartographerをソースからビルド
```
mkdir ~/catkin_ws
cd catkin_ws
wstool init src
wstool merge -t src https://raw.githubusercontent.com/googlecartographer/cartographer_ros/master/cartographer_ros.rosinstall
```
```
vi /home/ubuntu/catkin_ws/src/.rosinstall
```
diffコマンドの結果：<br>
```
--- /home/ubuntu/catkin_ws/src/.rosinstall.org	2019-04-22 06:01:15.018463519 +0000
+++ /home/ubuntu/catkin_ws/src/.rosinstall	2019-04-22 06:01:29.370431975 +0000
@@ -2,11 +2,11 @@
 - git:
     local-name: cartographer
     uri: https://github.com/googlecartographer/cartographer.git
-    version: 1.0.0
+    version: master
 - git:
     local-name: cartographer_ros
     uri: https://github.com/googlecartographer/cartographer_ros.git
-    version: 1.0.0
+    version: master
 - git:
     local-name: ceres-solver
     uri: https://ceres-solver.googlesource.com/ceres-solver.git
```

```
wstool update -t src
```

```
src/cartographer/scripts/install_proto3.sh
sudo rosdep init
rosdep update
rosdep install --from-paths src --ignore-src --rosdistro=${ROS_DISTRO} -y
```

今回使ったcartographerのコミットバージョンを確認
```
cd ~/catkin_ws/src/cartographer_ros
git rev-parse HEAD
9f8bf5b24537e60858df395a30fc8fe06264ad50
```
```
cd ~/catkin_ws/src/cartographer
git rev-parse HEAD
51df4afcba2dbb83e57ff34e04e8f01015f59625
```
```
cd ~/catkin_ws/src/ceres-solver
git rev-parse HEAD
19333b0f55c8462381038e70d42af43b52941128
```

